<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games Analytics - Dashboard BI</title>
    <meta name="description" content="Dashboard de análise de dados de jogos com Databricks">
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23007acc'/></svg>">
</head>

<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">GA</div>
                <div>
                    <h1 class="title">Games Analytics</h1>
                    <p class="subtitle">Feito por: <a href="https://www.linkedin.com/in/yasmim-abrahao/"
                            target="_blank">Yasmim Abrahão</a></p>
                </div>
            </div>
        </div>
    </header>

    <div id="dashboard-content" class="dashboard-content">
    </div>

    <script id="config-script">
        window.DASHBOARD_CONFIG = {
            instanceUrl: "{{INSTANCE_URL}}",
            workspaceId: "{{WORKSPACE_ID}}",
            dashboardId: "{{DASHBOARD_ID}}",
            token: "{{TOKEN}}"
        };
    </script>

    <script src="/static/dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.DASHBOARD_CONFIG && window.DASHBOARD_CONFIG.token && window.DASHBOARD_CONFIG.token !== "TOKEN_PLACEHOLDER") {
                window.dashboardManager = new DashboardManager(window.DASHBOARD_CONFIG);
                window.dashboardManager.initialize();
            } else {
                console.error('Dashboard configuration not properly loaded');
                const container = document.getElementById('dashboard-content');
                container.innerHTML = `
                    <div class="error-container">
                        <div class="error-icon">!</div>
                        <div class="error-title">Erro de Configuração</div>
                        <div class="error-message">
                            Configuração do dashboard não foi carregada corretamente.
                            <br><br>Verifique as variáveis de ambiente no servidor.
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>

</html>